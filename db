-- Users Table
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  email VARCHAR(255) UNIQUE,
  password_hash VARCHAR(255)
);

-- Social Accounts Table (Linked to Users)
CREATE TABLE social_accounts (
  id SERIAL PRIMARY KEY,
  user_id INT REFERENCES users(id),
  platform VARCHAR(20) CHECK (platform IN ('instagram', 'facebook', 'telegram')),
  access_token TEXT,
  meta JSONB -- Platform-specific data (e.g., Instagram username, Telegram bot tokens)
);

-- Telegram Bots Repository
CREATE TABLE telegram_bots (
  id SERIAL PRIMARY KEY,
  user_id INT REFERENCES users(id),
  bot_name VARCHAR(255),
  bot_token TEXT,
  category VARCHAR(50),
  is_active BOOLEAN DEFAULT true
);
